{% load i18n %}
<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>
            {% block head_title %}
            {% endblock head_title %}
        </title>
        {% block extra_head %}
        {% endblock extra_head %}

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

        <script>
            $(document).ready(function(){
                $("a:contains('GitHub')").parent().addClass("github-link");
                $("a:contains('Google')").parent().addClass("google-link");

                $("a:contains('Google')").parent().parent().addClass("ul-removal");
            });

            
        </script>

        {% load static %}
        <link rel='stylesheet' type="text/css" href="{% static 'css/global.css' %}">
    <style>
        a
        {
            text-decoration: none;
            color: #ededed;
        }

        ul
        {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-bar
        {
            height: 4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);
            background-color: rgb(40, 40, 40);
        }

        .nav-bar ul
        {
            display: flex;
            gap: 1.25rem;
        }

        .nav-bar ul li
        {
            background-color: rgb(40, 40, 40);
            padding: 1rem;
            border-radius: 0.65rem;
            box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);
            transition: 0.2s ease;
        }

        .nav-bar ul li:hover
        {
            background-color: rgb(70, 70, 70);
            transition: 0.2s ease;
        }

        .auth-container
        {
            margin-top: 2rem !important;
            width: 60%;
            margin: auto;
            background-color: rgb(40, 40, 40);
            box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);
            border-radius: 0.65rem;
            padding: 1rem;
            gap: 1rem;
        }

        .auth-container form p,
        .auth-container form p label
        {
            margin: 1rem 0 !important;
        }

        .auth-container input[type="checkbox"]
        {
            display: inline;
            width: 1rem;
            border-style: none;
            border-radius: 50%;
            scale: 1.25;
        }

    button,
    input
    {
        background-color: rgb(140, 140, 140);
        padding: 0.75rem;
        border-radius: 0.65rem;
        font-size: 1rem;
        font-weight: 500;
        border-style: none;
        box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);
        width: 100%;
        
        transition: 0.2s ease;
        margin: 0.5rem 0;
    }

    button:hover
    {
        background-color: rgb(70, 70, 70);
        transition: 0.2s ease;
        cursor: pointer;
    }
    
    .card-header {
        color: #fff;
        padding: 10px 15px;
        font-weight: bold;
        border-radius: 5px 5px 0 0;
        font-size: 20px;
        text-align: center;
      }

    .chat-container {
        display: flex;
        flex-direction: column;
        height: 100vh; 
        background-color: black; 
        padding: 10px;
        border-radius: 5px;
     
    }
      
    .card {
        flex: 1; 
        overflow-y: auto; 
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); 
    }
      
    .card-body{
        border: 1px solid lightgray;
    } 

    .card-header {
        background-color: black; 
        color: #fff;
        padding: 10px 15px;
        font-weight: bold;
        border-radius: 5px 5px 0 0;
        font-size: 20px;
    }
      
    .messages-box {
        padding: 10px;
    }
      
    .messages-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }
      
    .message {
        margin-bottom: 15px;
        display: flex; 
        justify-content: flex-start; 
    }
      
    .message.sent {
        justify-content: flex-end; 
        background-color: black;
    }
      
    .message.received {
        background-color: black;
    }
      
    .message-text {
        padding: 10px;
        border-radius: 5px;
        word-wrap: break-word; 
        max-width: 70%; 
    }
      
    .message-sender {
        font-weight: bold;
        margin-bottom: 5px;
    }
      
    .message-form {
        display: flex;
        justify-items: center;
        justify-content: center;
        padding-bottom: 60px;
    }
      
    .message-input {
        flex: 1;
        border-radius: 5px;
        border: 1px solid #ccc;
        padding: 8px 14px;
    }
      
    .btn-send {
        border-radius: 5px;
        background-color: #343a40;
        color: lightgreen;
        padding: 5px 10px; 
        
    }
    
    </style>

    </head>
    <body>
        {% block body %}
            {% if messages %}
                <div>
                    <strong>{% trans "Messages:" %}</strong>
                    <ul>
                        {% for message in messages %}<li>{{ message }}</li>{% endfor %}
                    </ul>
                </div>
            {% endif %}
            <div class='nav-bar'>
                <a href="/"><strong style='
                        font-size: 30px;
                    '>{% trans "ForgeAI" %}</strong><a>
                <ul>
                    <li>
                        <a href="{% url 'sessions' %}">{% trans "MIDI Generator" %}</a>
                    </li>
                    {% if user.is_authenticated %}
                    <li>
                        <a href="{% url 'profile' %}">{% trans "My Account" %}</a>
                    </li>
                    
                        {% url 'account_email' as email_url %}
                        {% if email_url %}
                            <li>
                                <a href="{{ email_url }}">{% trans "Change Email" %}</a>
                            </li>
                        {% endif %}
                        {% url 'account_change_password' as change_password_url %}
                        {% if change_password_url %}
                            <li>
                                <a href="{{ change_password_url }}">{% trans "Change Password" %}</a>
                            </li>
                        {% endif %}
                        {% url 'mfa_index' as mfa_url %}
                        {% if mfa_url %}
                            <li>
                                <a href="{{ mfa_url }}">{% trans "Two-Factor Authentication" %}</a>
                            </li>
                        {% endif %}
                        {% url 'usersessions_list' as usersessions_list_url %}
                        {% if usersessions_list_url %}
                            <li>
                                <a href="{{ usersessions_list_url }}">{% trans "Sessions" %}</a>
                            </li>
                        {% endif %}
                        {% url 'account_logout' as logout_url %}
                        {% if logout_url %}
                            <li>
                                <a href="{{ logout_url }}">{% trans "Sign Out" %}</a>
                            </li>
                        {% endif %}
                    {% else %}
                        {% url 'account_login' as login_url %}
                        {% if login_url %}
                            <li>
                                <a href="{{ login_url }}">{% trans "Sign In" %}</a>
                            </li>
                        {% endif %}
                        {% url 'account_signup' as signup_url %}
                        {% if signup_url %}
                            <li>
                                <a href="{{ signup_url }}">{% trans "Sign Up" %}</a>
                            </li>
                        {% endif %}
                    {% endif %}
                </ul>
            </div>
        <div class='card'>
            {% block content %}
            {% endblock content %}
        {% endblock body %}
        {% block extra_body %}
        {% endblock extra_body %}
        
        </div>
    </body>
</html>
